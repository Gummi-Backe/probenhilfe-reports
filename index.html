<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<meta name="theme-color" content="#0b1220"/>
<meta name="mobile-web-app-capable" content="yes"/>
<meta name="apple-mobile-web-app-capable" content="yes"/>
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
<link rel="manifest" href="manifest.webmanifest"/>
<link rel="apple-touch-icon" href="icon-192.png"/>
<title>Probenhilfe - Cue-Sequenz</title>
<style>

:root{
  --bg:#0b1220;
  --panel:#0f172a;
  --card:#111b31;
  --border:#223254;
  --text:#e5e7eb;
  --muted:#a7b0c0;
  --ok:#133a2a;
  --okBorder:#1f6f52;
  --bring:#113a5e;
  --bringBorder:#2b7bbb;
  --warn:#3a1520;
  --warnBorder:#d1495b;
  --neutral:#131a2c;
  --neutralBorder:#2a3658;
  --notice:#ffb703;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:linear-gradient(180deg,var(--bg),#070c16);
  color:var(--text);
  font-family:Segoe UI,system-ui,-apple-system,Arial,sans-serif;
  line-height:1.35;
}
.toolbar{
  position:sticky;
  top:0;
  z-index:50;
  border-bottom:1px solid rgba(255,255,255,.10);
  background:rgba(8,12,22,.86);
  backdrop-filter:blur(10px);
}
.toolbarInner{
  max-width:1200px;
  margin:0 auto;
  padding:8px 10px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:8px;
}
.toolbarLeft{
  display:flex;
  align-items:center;
  gap:8px;
  flex-wrap:nowrap;
}
.toggle{
  position:relative;
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:6px 8px;
  border:1px solid var(--border);
  border-radius:999px;
  background:rgba(255,255,255,.03);
  color:var(--text);
  font-size:12px;
}
.toggle input{
  position:absolute;
  opacity:0;
  width:1px;
  height:1px;
  pointer-events:none;
}
.toggleIcon{
  display:inline-flex;
  width:22px;
  height:22px;
  align-items:center;
  justify-content:center;
  border-radius:8px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.18);
  color:var(--muted);
  font-size:14px;
  line-height:1;
  user-select:none;
}
.toggle input:checked + .toggleIcon{
  color:var(--notice);
  border-color:rgba(255,183,3,.55);
}
.toolbarRight{
  display:flex;
  gap:6px;
  align-items:center;
}
.btn{
  appearance:none;
  border:1px solid var(--border);
  background:rgba(255,255,255,.03);
  color:var(--text);
  padding:6px 8px;
  border-radius:10px;
  font-size:12px;
  cursor:pointer;
}
.btn:active{transform:translateY(1px)}
.btn.iconBtn{
  width:34px;
  height:30px;
  padding:0;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  font-size:14px;
  line-height:1;
}
.btn.iconBtn.helpBtn{
  font-weight:800;
}
.helpOverlay{
  position:fixed;
  inset:0;
  z-index:10000;
  display:none;
  padding:18px 12px;
  background:rgba(0,0,0,.55);
  backdrop-filter:blur(6px);
}
.helpOverlay.open{display:block}
.helpModal{
  max-width:920px;
  margin:0 auto;
  border:1px solid rgba(255,255,255,.12);
  border-radius:16px;
  background:rgba(15,23,42,.95);
  box-shadow:0 22px 80px rgba(0,0,0,.55);
  overflow:hidden;
}
.helpHead{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  padding:12px 12px;
  border-bottom:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.03);
}
.helpTitle{
  font-weight:750;
  letter-spacing:.2px;
}
.helpBody{
  padding:12px 12px 16px;
  max-height:80vh;
  overflow:auto;
  -webkit-overflow-scrolling:touch;
}
.helpBody h3{
  margin:14px 0 6px;
  font-size:13px;
  color:#dbe3f0;
}
.helpBody p, .helpBody li{
  margin:0;
  color:var(--muted);
  font-size:12.5px;
  line-height:1.45;
}
.helpBody ul{
  margin:8px 0 0 18px;
  padding:0;
  display:grid;
  gap:6px;
}
.kbd{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-width:18px;
  padding:2px 6px;
  border:1px solid rgba(255,255,255,.16);
  border-bottom-width:2px;
  border-radius:8px;
  background:rgba(0,0,0,.18);
  color:#e5e7eb;
  font-size:12px;
  font-variant-numeric:tabular-nums;
}
.helpCloseX{
  width:34px;
  height:30px;
  padding:0;
  display:inline-flex;
  align-items:center;
  justify-content:center;
}
.wrap{
  max-width:1200px;
  margin:0 auto;
  padding:22px 18px 40px;
}
.header{
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  gap:16px;
  margin-bottom:16px;
  flex-wrap:wrap;
}
.title{
  font-size:20px;
  font-weight:700;
  letter-spacing:.2px;
}
.subtitle{
  margin-top:6px;
  color:var(--muted);
  font-size:13px;
}
.meta{
  text-align:right;
  color:var(--muted);
  font-size:12px;
}
.legend{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin:10px 0 18px;
}
.chip{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:6px 10px;
  border:1px solid var(--border);
  background:rgba(255,255,255,.03);
  border-radius:999px;
  color:var(--muted);
  font-size:12px;
}
.dot{width:10px;height:10px;border-radius:999px}
.dot.bring{background:var(--bringBorder)}
.dot.ok{background:var(--okBorder)}
.dot.warn{background:var(--warnBorder)}
.dot.neutral{background:var(--neutralBorder)}
.section{
  border:1px solid var(--border);
  background:rgba(17,27,49,.45);
  border-radius:14px;
  overflow:hidden;
  margin:14px 0;
}
.sectionHead{
  padding:12px 14px;
  background:rgba(255,255,255,.03);
  border-bottom:1px solid var(--border);
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:14px;
}
.sectionTitle{
  font-weight:650;
}
.sectionSummary{
  color:var(--muted);
  font-size:12px;
}
.steps{
  padding:12px;
  display:grid;
  gap:12px;
}
.step{
  border:1px solid var(--border);
  background:var(--card);
  border-radius:12px;
  overflow:hidden;
  box-shadow:0 6px 22px rgba(0,0,0,.18);
}
.stepHead{
  padding:10px 12px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  border-bottom:1px solid rgba(255,255,255,.06);
  cursor:pointer;
}
.step.dragging{opacity:.65; outline:2px dashed rgba(255,255,255,.25);}
.step.swapFlash{outline:2px solid rgba(255,183,3,.30);}
.dragHandle{
  width:26px;
  height:26px;
  display:flex;
  align-items:center;
  justify-content:center;
  border:1px solid var(--border);
  border-radius:8px;
  background:rgba(0,0,0,.18);
  color:var(--muted);
  flex:0 0 auto;
  cursor:grab;
  user-select:none;
  touch-action:none;
}
.dragHandle:active{cursor:grabbing}
.stepBody{display:block}
body.compact .stepBody{display:none}
.stepBody.open{display:block}
.dragGhost{
  position:fixed;
  z-index:9999;
  pointer-events:none;
  opacity:.92;
  transform:translate3d(0,0,0);
  box-shadow:0 14px 42px rgba(0,0,0,.45);
}
.dropPlaceholder{
  border:2px dashed rgba(255,255,255,.25);
  border-radius:12px;
  background:rgba(255,255,255,.04);
}
.reorderBtns{
  display:none;
  gap:6px;
  align-items:center;
}
body.compact .reorderBtns{display:flex}
.miniBtn{
  width:28px;
  height:26px;
  display:flex;
  align-items:center;
  justify-content:center;
  border:1px solid var(--border);
  border-radius:8px;
  background:rgba(255,255,255,.03);
  color:var(--text);
  cursor:pointer;
  font-size:12px;
}
.miniBtn:active{transform:translateY(1px)}
.stepLeft{
  display:flex;
  align-items:center;
  gap:10px;
  min-width:0;
}
.stepIndex{
  width:34px;
  height:24px;
  display:flex;
  align-items:center;
  justify-content:center;
  border:1px solid var(--border);
  border-radius:8px;
  color:var(--muted);
  font-size:12px;
  flex:0 0 auto;
  background:rgba(0,0,0,.15);
}
.stepTitle{
  font-weight:650;
  display:flex;
  align-items:center;
  gap:8px;
  min-width:0;
  flex-wrap:nowrap;
}
.stepTitle .cueText{
  min-width:0;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.dirBadge{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:3px 8px;
  border-radius:999px;
  font-size:12px;
  font-weight:800;
  letter-spacing:.2px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.05);
  flex:0 0 auto;
}
.dirForward{
  border-color:rgba(25,118,210,.65);
  background:rgba(25,118,210,.18);
  color:#dbeafe;
}
.dirBackward{
  border-color:rgba(211,47,47,.75);
  background:rgba(211,47,47,.20);
  color:#ffe4e6;
}
.badges{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  justify-content:flex-end;
  align-items:center;
}
.badge{
  border:1px solid var(--border);
  background:rgba(255,255,255,.03);
  color:var(--muted);
  border-radius:999px;
  padding:4px 9px;
  font-size:12px;
}
.badge.warn{border-color:var(--warnBorder); color:#ffd3d9}
.badge.notice{border-color:var(--notice); color:#ffe8a3}
.disabledNote{
  padding:10px 12px;
  color:#cbd5e1;
  font-size:12px;
  border-top:1px dashed rgba(255,255,255,.10);
  background:rgba(0,0,0,.12);
}
.tableWrap{
  max-height:none;
  overflow:visible;
}
table{
  width:100%;
  border-collapse:separate;
  border-spacing:0;
  font-size:12.5px;
}
thead th{
  background:rgba(8,12,22,.92);
  text-align:left;
  padding:9px 10px;
  border-bottom:1px solid rgba(255,255,255,.08);
  color:#cbd5e1;
  font-weight:650;
}
tbody td{
  padding:8px 10px;
  border-bottom:1px solid rgba(255,255,255,.06);
  vertical-align:top;
}
tbody tr:last-child td{border-bottom:none}
.row.ok{background:linear-gradient(90deg,rgba(31,111,82,.28),rgba(17,27,49,.0))}
.row.bring{background:linear-gradient(90deg,rgba(43,123,187,.28),rgba(17,27,49,.0))}
.row.warn{background:linear-gradient(90deg,rgba(209,73,91,.22),rgba(17,27,49,.0))}
.row.neutral{background:linear-gradient(90deg,rgba(42,54,88,.26),rgba(17,27,49,.0))}
.row.ok td:first-child{border-left:4px solid var(--okBorder); padding-left:8px}
.row.bring td:first-child{border-left:4px solid var(--bringBorder); padding-left:8px}
.row.warn td:first-child{border-left:4px solid var(--warnBorder); padding-left:8px}
.row.neutral td:first-child{border-left:4px solid var(--neutralBorder); padding-left:8px}
.mono{font-variant-numeric:tabular-nums}
.noticeText{color:var(--notice); font-weight:700}
.status{color:#e5e7eb}
.muted{color:var(--muted)}

@media (max-width: 720px){
  .wrap{padding:16px 12px 30px;}
  .title{font-size:18px;}
  .subtitle{font-size:12px;}
  .meta{text-align:left;}
  .sectionHead{flex-direction:column; align-items:flex-start;}
  .stepHead{flex-direction:column; align-items:flex-start;}
  .stepTitle{flex-wrap:wrap}
  .stepTitle .cueText{white-space:normal}
  .badges{justify-content:flex-start;}
  thead th, tbody td{padding:8px 8px;}
  table{font-size:12px;}
  .stepIndex{width:32px;}
  .toolbarInner{padding:6px 8px; gap:6px}
  .btn.iconBtn{width:32px; height:28px}
  .helpBody{max-height:78vh}
}

</style>
<script id="phData" type="application/json">
{"version":1,"maxBlocksPerCue":3,"suggestions":{"CKAEA0wSOV2b":{"fromCueId":78,"toCueId":108,"startPositions":{"52":12000,"53":11900,"55":5080,"23":6773,"15":7990,"10":7990,"49":5665,"57":-5080,"58":-10570,"61":-12483,"62":-10445,"56":9800,"60":10445,"54":11600,"16":8700,"17":0,"36":0,"93":1165,"94":1245,"95":1165,"91":900,"92":900,"34":7361,"37":7405,"38":5585,"39":5585,"40":5720,"41":5720,"42":2785,"43":2785,"44":2920,"45":2920,"46":1165,"47":1165,"48":5125,"63":4400,"64":1300},"targetPositions":{"52":3350,"53":3350,"55":9988,"23":11000,"15":0,"10":0,"49":5125,"57":-12200,"58":-10445,"61":-12483,"62":-10445,"56":10445,"60":10445,"54":7804,"16":0,"17":9440,"36":9440,"93":0,"94":0,"95":0,"91":0,"92":0,"34":7165,"37":10615,"38":1165,"39":1165,"40":3620,"41":3620,"42":1165,"43":1165,"44":2920,"45":2920,"46":3485,"47":3485,"48":5125,"63":4400,"64":4035},"cueActions":{"34":{"52":{"s":12000,"e":3350},"53":{"s":11900,"e":3350}},"104":{"55":{"s":11700,"e":9988}},"83":{"23":{"s":6773,"e":11000},"15":{"s":7990,"e":0},"10":{"s":7990,"e":0},"49":{"s":5665,"e":5125}},"5":{"57":{"s":-12200,"e":-12200},"58":{"s":-10570,"e":-10570},"61":{"s":-12483,"e":-12483},"62":{"s":-10445,"e":-10445}},"122":{"56":{"s":10445,"e":4835},"58":{"s":-10445,"e":-4835},"60":{"s":10445,"e":4310},"62":{"s":-10445,"e":-4310},"54":{"s":7804,"e":4380}},"91":{"16":{"s":8700,"e":0}},"56":{"17":{"s":9440,"e":0},"36":{"s":9440,"e":0},"93":{"s":1165,"e":0},"94":{"s":0,"e":1245},"95":{"s":1165,"e":0}},"81":{"91":{"s":900,"e":0},"92":{"s":900,"e":0}},"82":{"93":{"s":1165,"e":0},"94":{"s":1245,"e":0},"95":{"s":1165,"e":0}},"319":{"34":{"s":7165,"e":7165},"37":{"s":10615,"e":10615},"38":{"s":1165,"e":1165},"39":{"s":1165,"e":1165},"40":{"s":3620,"e":3620},"41":{"s":3620,"e":3620},"42":{"s":1165,"e":1165},"43":{"s":1165,"e":1165},"44":{"s":2920,"e":2920},"45":{"s":2920,"e":2920},"46":{"s":3485,"e":3485},"47":{"s":3485,"e":3485},"48":{"s":5125,"e":5125},"49":{"s":5125,"e":5125}},"103":{"63":{"s":1905,"e":4400},"64":{"s":1300,"e":4035}}}}}}
</script>
<script>

if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('sw.js').catch(() => {});
  });
}

</script>
<script>
const FIREBASE_DB_BASE = "https://probenhilfe-sync-default-rtdb.europe-west1.firebasedatabase.app";
const FIREBASE_SESSION_PATH = "sessions/current";
let _lastRemoteRev = null;

function updateStepIndices(stepsEl){
  const items = Array.from(stepsEl.querySelectorAll('.step'));
  items.forEach((el, i) => {
    const idx = el.querySelector('.stepIndex');
    if (idx) idx.textContent = String(i+1);
  });
}

function closestStep(el){
  return el ? el.closest('.step') : null;
}

function setAllCollapsed(collapsed){
  document.body.classList.toggle('compact', collapsed);
  document.querySelectorAll('.stepBody').forEach(b => {
    b.classList.toggle('open', !collapsed);
    b.style.display = '';
  });
}

function enableCollapse(){
  document.querySelectorAll('.stepHead').forEach(head => {
    head.addEventListener('click', (e) => {
      const step = closestStep(e.target);
      if (!step) return;
      const body = step.querySelector('.stepBody');
      if (!body) return;
      // Handle/Buttons sollen nicht togglen.
      if (e.target.closest('.dragHandle') || e.target.closest('.miniBtn')) return;
      body.classList.toggle('open');
      // Wenn kompakt: open ueberschreibt das globale hidden
      if (document.body.classList.contains('compact') && body.classList.contains('open')){
        body.style.display = 'block';
      }else{
        body.style.display = '';
      }
    });
  });

  const compactToggle = document.getElementById('compactToggle');
  if (compactToggle){
    compactToggle.addEventListener('change', () => {
      setAllCollapsed(compactToggle.checked);
    });
  }

  const collapseAllBtn = document.getElementById('collapseAllBtn');
  if (collapseAllBtn){
    collapseAllBtn.addEventListener('click', () => {
      if (compactToggle){ compactToggle.checked = true; }
      setAllCollapsed(true);
    });
  }
  const expandAllBtn = document.getElementById('expandAllBtn');
  if (expandAllBtn){
    expandAllBtn.addEventListener('click', () => {
      if (compactToggle){ compactToggle.checked = false; }
      setAllCollapsed(false);
    });
  }
}

function moveStep(step, direction){
  const parent = step.parentNode;
  if (!parent) return;

  const other = direction < 0 ? step.previousElementSibling : step.nextElementSibling;
  if (!other) return;

  // FLIP animation (swap) for better visual feedback
  if (parent.dataset.animating === '1') return;
  parent.dataset.animating = '1';

  const a = step;
  const b = other;
  const aFirst = a.getBoundingClientRect();
  const bFirst = b.getBoundingClientRect();

  if (direction < 0){
    parent.insertBefore(a, b);
  }else{
    parent.insertBefore(b, a);
  }
  updateStepIndices(parent);
  notifyOrderChanged();

  const aLast = a.getBoundingClientRect();
  const bLast = b.getBoundingClientRect();

  const aDy = aFirst.top - aLast.top;
  const bDy = bFirst.top - bLast.top;

  a.classList.add('swapFlash');
  b.classList.add('swapFlash');

  a.style.transition = 'none';
  b.style.transition = 'none';
  a.style.transform = `translateY(${aDy}px)`;
  b.style.transform = `translateY(${bDy}px)`;

  // Force reflow then animate to 0
  void a.offsetWidth;

  const durationMs = 180;
  a.style.transition = `transform ${durationMs}ms ease`;
  b.style.transition = `transform ${durationMs}ms ease`;
  a.style.transform = '';
  b.style.transform = '';

  window.setTimeout(() => {
    a.style.transition = '';
    b.style.transition = '';
    a.classList.remove('swapFlash');
    b.classList.remove('swapFlash');
    parent.dataset.animating = '0';
  }, durationMs + 60);
}

function enableReorderButtons(){
  document.querySelectorAll('.miniBtn[data-move]').forEach(btn => {
    btn.addEventListener('click', (e) => {
      e.preventDefault();
      e.stopPropagation();
      const step = closestStep(btn);
      if (!step) return;
      const dir = btn.getAttribute('data-move') === 'up' ? -1 : 1;
      moveStep(step, dir);
    });
  });
}

function enablePointerReorder(stepsEl){
  let dragging = null;      // { step, ghost, placeholder, offsetX, offsetY }
  let lastScrollTs = 0;

  function createPlaceholder(height){
    const ph = document.createElement('div');
    ph.className = 'dropPlaceholder';
    ph.style.height = height + 'px';
    return ph;
  }

  function createGhost(step, rect){
    const ghost = step.cloneNode(true);
    ghost.classList.add('dragGhost');
    ghost.style.width = rect.width + 'px';
    ghost.style.left = rect.left + 'px';
    ghost.style.top = rect.top + 'px';
    return ghost;
  }

  function setGhostPos(clientX, clientY){
    if (!dragging) return;
    dragging.ghost.style.left = (clientX - dragging.offsetX) + 'px';
    dragging.ghost.style.top  = (clientY - dragging.offsetY) + 'px';
  }

  function autoScroll(clientY){
    const now = Date.now();
    if (now - lastScrollTs < 30) return;
    lastScrollTs = now;
    const margin = 70;
    const speed = 22;
    if (clientY < margin) window.scrollBy(0, -speed);
    else if (clientY > (window.innerHeight - margin)) window.scrollBy(0, speed);
  }

  function findOverStep(clientX, clientY){
    const el = document.elementFromPoint(clientX, clientY);
    if (!el) return null;
    const step = el.closest('.step');
    if (!step) return null;
    if (dragging && step === dragging.step) return null;
    return step;
  }

  function placePlaceholder(overStep, clientY){
    if (!dragging || !overStep) return;
    const rect = overStep.getBoundingClientRect();
    const before = (clientY - rect.top) < rect.height / 2;
    const parent = overStep.parentNode;
    if (!parent) return;
    if (before) parent.insertBefore(dragging.placeholder, overStep);
    else parent.insertBefore(dragging.placeholder, overStep.nextSibling);
  }

  function startDrag(step, clientX, clientY){
    const rect = step.getBoundingClientRect();
    const placeholder = createPlaceholder(rect.height);
    const ghost = createGhost(step, rect);
    document.body.appendChild(ghost);

    // Replace original with placeholder; keep original hidden for later insert.
    step.classList.add('dragging');
    step.style.display = 'none';
    step.parentNode.insertBefore(placeholder, step);

    dragging = {
      step,
      ghost,
      placeholder,
      offsetX: clientX - rect.left,
      offsetY: clientY - rect.top
    };
    setGhostPos(clientX, clientY);
  }

  function finishDrag(){
    if (!dragging) return;
    const { step, ghost, placeholder } = dragging;
    step.style.display = '';
    step.classList.remove('dragging');
    placeholder.parentNode.insertBefore(step, placeholder);
    placeholder.remove();
    ghost.remove();
    const parent = step.parentNode;
    dragging = null;
    if (parent) updateStepIndices(parent);
    notifyOrderChanged();
  }

  function onMove(clientX, clientY){
    if (!dragging) return;
    setGhostPos(clientX, clientY);
    autoScroll(clientY);
    const over = findOverStep(clientX, clientY);
    if (over && over.parentNode === stepsEl){
      placePlaceholder(over, clientY);
    }
  }

  function bindPointer(pointerId){
    function move(e){
      if (pointerId != null && e.pointerId !== pointerId) return;
      onMove(e.clientX, e.clientY);
    }
    function up(e){
      if (pointerId != null && e.pointerId !== pointerId) return;
      window.removeEventListener('pointermove', move, { passive:false });
      window.removeEventListener('pointerup', up, { passive:false });
      window.removeEventListener('pointercancel', up, { passive:false });
      finishDrag();
    }
    window.addEventListener('pointermove', move, { passive:false });
    window.addEventListener('pointerup', up, { passive:false });
    window.addEventListener('pointercancel', up, { passive:false });
  }

  // Pointer events (iOS/Android/desktop)
  stepsEl.addEventListener('pointerdown', (e) => {
    const handle = e.target.closest('.dragHandle');
    if (!handle) return;
    const step = handle.closest('.step');
    if (!step) return;
    e.preventDefault();
    e.stopPropagation();
    startDrag(step, e.clientX, e.clientY);
    bindPointer(e.pointerId);
  }, { passive:false });
}

function enableHelp(){
  const helpBtn = document.getElementById('helpBtn');
  const overlay = document.getElementById('helpOverlay');
  const closeBtn = document.getElementById('helpCloseBtn');
  if (!helpBtn || !overlay) return;

  function open(){
    overlay.classList.add('open');
  }
  function close(){
    overlay.classList.remove('open');
  }

  helpBtn.addEventListener('click', (e) => {
    e.preventDefault();
    e.stopPropagation();
    open();
  });

  if (closeBtn){
    closeBtn.addEventListener('click', (e) => {
      e.preventDefault();
      close();
    });
  }

  overlay.addEventListener('click', (e) => {
    if (e.target === overlay) close();
  });

  window.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') close();
  });
}

function firebaseUrl(path){
  if (!FIREBASE_DB_BASE) return null;
  const base = String(FIREBASE_DB_BASE).replace(/\/+$/,''); 
  const p = String(path || '').replace(/^\/+/,''); 
  return `${base}/${p}.json`;
}

async function firebaseGet(path){
  const url = firebaseUrl(path);
  if (!url) return null;
  const res = await fetch(url, { cache: 'no-store' });
  if (!res.ok) throw new Error(`HTTP ${res.status}`);
  return await res.json();
}

async function firebasePatch(path, body){
  const url = firebaseUrl(path);
  if (!url) return;
  const res = await fetch(url, {
    method: 'PATCH',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(body || {})
  });
  if (!res.ok) throw new Error(`HTTP ${res.status}`);
}

function collectOrdersFromDom(){
  const orders = {};
  document.querySelectorAll('section.section[data-sid]').forEach(section => {
    const sid = section.dataset.sid;
    if (!sid) return;
    const stepsEl = section.querySelector('.steps');
    if (!stepsEl) return;
    const ids = Array.from(stepsEl.querySelectorAll(':scope > .step')).map(el => el.dataset.stepId).filter(Boolean);
    orders[sid] = ids;
  });
  return orders;
}

function applyOrdersToDom(orders){
  if (!orders) return;
  document.querySelectorAll('section.section[data-sid]').forEach(section => {
    const sid = section.dataset.sid;
    const desired = sid ? orders[sid] : null;
    if (!Array.isArray(desired) || desired.length === 0) return;
    const stepsEl = section.querySelector('.steps');
    if (!stepsEl) return;

    const all = Array.from(stepsEl.querySelectorAll(':scope > .step'));
    const byId = new Map(all.map(el => [el.dataset.stepId, el]));
    const used = new Set();
    const newOrder = [];
    desired.forEach(id => {
      const el = byId.get(id);
      if (el){
        newOrder.push(el);
        used.add(id);
      }
    });
    all.forEach(el => {
      const id = el.dataset.stepId;
      if (!used.has(id)) newOrder.push(el);
    });
    newOrder.forEach(el => stepsEl.appendChild(el));
    updateStepIndices(stepsEl);
  });
  recomputeAllSections();
}

let _phData = null;
function getPhData(){
  if (_phData) return _phData;
  const el = document.getElementById('phData');
  if (!el) return null;
  try{
    _phData = JSON.parse(el.textContent || '{}');
  }catch(_e){
    _phData = null;
  }
  return _phData;
}

function mapStatusToRowClass(statusKind){
  switch(statusKind){
    case 'BringtAufZiel': return 'bring';
    case 'BleibtRichtig':
    case 'KeineBewegung': return 'ok';
    case 'BewegtWegVonZiel': return 'warn';
    default: return 'neutral';
  }
}

function setBadge(stepEl, badgeName, text){
  const badge = stepEl.querySelector(`.badge[data-badge='${badgeName}']`);
  if (!badge) return;
  const t = (text || '').trim();
  if (!t){
    badge.style.display = 'none';
    badge.textContent = '';
  }else{
    badge.style.display = 'inline-flex';
    badge.textContent = t;
  }
}

function setRow(stepEl, axisId, start, target, unblockNotice, statusText, statusKind){
  const tr = stepEl.querySelector(`tr[data-axisid='${axisId}']`);
  if (!tr) return;

  tr.className = `row ${mapStatusToRowClass(statusKind)}`;

  const startTd = tr.querySelector('[data-role=start]');
  const targetTd = tr.querySelector('[data-role=target]');
  if (startTd) startTd.textContent = (start == null) ? '' : String(start);
  if (targetTd) targetTd.textContent = (target == null) ? '' : String(target);

  const noticeSpan = tr.querySelector('[data-role=unblockNotice]');
  const statusSpan = tr.querySelector('[data-role=statusText]');

  const noticeText = (unblockNotice || '').trim();
  if (noticeSpan){
    noticeSpan.textContent = noticeText;
    noticeSpan.style.display = noticeText ? 'inline' : 'none';
  }
  if (statusSpan){
    statusSpan.textContent = statusText || '';
  }
}

function recomputeSection(section, model, maxBlocksPerCue){
  if (!section || !model) return;

  const maxBlocks = Number.isFinite(maxBlocksPerCue) ? maxBlocksPerCue : 3;
  const startPositions = model.startPositions || {};
  const targetPositions = model.targetPositions || {};
  const cueActions = model.cueActions || {};

  const stepsEl = section.querySelector('.steps');
  if (!stepsEl) return;

  // clone start positions
  const positions = {};
  Object.keys(startPositions).forEach(k => { positions[k] = startPositions[k]; });

  // Look-ahead: first step that can bring an axis directly onto target
  const firstTargetStepIndexByAxis = {};
  const stepEls = Array.from(stepsEl.querySelectorAll(':scope > .step'));
  for (let i = 0; i < stepEls.length; i++){
    const stepEl = stepEls[i];
    if (!stepEl || stepEl.dataset.disabled === '1') continue;

    const kind = stepEl.dataset.kind;
    if (kind === 'manual'){
      const axisId = parseInt(stepEl.dataset.axisid || '', 10);
      const axisKey = String(axisId);
      if (!Number.isFinite(axisId)) continue;
      if (!Object.prototype.hasOwnProperty.call(targetPositions, axisKey)) continue;
      if (!Object.prototype.hasOwnProperty.call(firstTargetStepIndexByAxis, axisKey)){
        firstTargetStepIndexByAxis[axisKey] = i;
      }
      continue;
    }

    const cueId = parseInt(stepEl.dataset.cueid || '', 10);
    if (!Number.isFinite(cueId)) continue;
    const actions = cueActions[String(cueId)];
    if (!actions) continue;
    const isBackward = stepEl.dataset.backward === '1';

    for (const axisKey in actions){
      if (!Object.prototype.hasOwnProperty.call(actions, axisKey)) continue;
      if (Object.prototype.hasOwnProperty.call(firstTargetStepIndexByAxis, axisKey)) continue;
      if (!Object.prototype.hasOwnProperty.call(targetPositions, axisKey)) continue;

      const target = targetPositions[axisKey];
      const act = actions[axisKey];
      const next = isBackward ? act.s : act.e;
      if (next === target){
        firstTargetStepIndexByAxis[axisKey] = i;
      }
    }
  }

  const blockedEarlier = new Set();

  for (let i = 0; i < stepEls.length; i++){
    const stepEl = stepEls[i];
    if (!stepEl) continue;

    if (stepEl.dataset.disabled === '1'){
      setBadge(stepEl, 'unblock', '');
      setBadge(stepEl, 'block', '');
      setBadge(stepEl, 'affected', '');
      continue;
    }

    const kind = stepEl.dataset.kind;

    if (kind === 'manual'){
      const axisId = parseInt(stepEl.dataset.axisid || '', 10);
      if (!Number.isFinite(axisId)) continue;
      const axisKey = String(axisId);
      const start = Object.prototype.hasOwnProperty.call(positions, axisKey) ? positions[axisKey] : null;
      const target = Object.prototype.hasOwnProperty.call(targetPositions, axisKey) ? targetPositions[axisKey] : null;

      const needsUnblock = (start != null && target != null && start !== target && blockedEarlier.has(axisId));
      const unblockNow = needsUnblock ? [axisId] : [];
      const unblockText = unblockNow.length ? `Entsperren: ${unblockNow.length}` : '';

      const affected = (start != null && target != null && start === target) ? 'Bereits auf Ziel' : (target != null ? `Auf Position ${target}` : '');
      setBadge(stepEl, 'affected', affected);
      setBadge(stepEl, 'block', '');
      setBadge(stepEl, 'unblock', unblockText);

      let statusKind = 'SonstigeBewegung';
      let statusText = 'Einzelfahrt auf die Zielposition.';
      let unblockNotice = needsUnblock ? 'Vor dieser Positionsfahrt entsperren. ' : null;

      if (start != null && target != null){
        if (start === target){
          statusKind = 'BleibtRichtig';
          statusText = `Achse bleibt auf Position ${start}.`;
          unblockNotice = null;
        }else{
          statusKind = 'BringtAufZiel';
          statusText = `Achse muss von ${start} nach ${target} fahren.`;
        }
      }

      setRow(stepEl, axisId, start, target, unblockNotice, statusText, statusKind);

      if (target != null){
        positions[axisKey] = target;
      }

      continue;
    }

    const cueId = parseInt(stepEl.dataset.cueid || '', 10);
    if (!Number.isFinite(cueId)) continue;

    const actions = cueActions[String(cueId)];
    if (!actions) continue;

    const isBackward = stepEl.dataset.backward === '1';

    const requiredBlocks = new Set();
    const unblocks = new Set();
    const coveredNow = [];

    for (const axisKey in actions){
      if (!Object.prototype.hasOwnProperty.call(actions, axisKey)) continue;
      if (!Object.prototype.hasOwnProperty.call(targetPositions, axisKey)) continue;
      if (!Object.prototype.hasOwnProperty.call(positions, axisKey)) continue;

      const axisId = parseInt(axisKey, 10);
      if (!Number.isFinite(axisId)) continue;

      const target = targetPositions[axisKey];
      const current = positions[axisKey];
      const act = actions[axisKey];
      const next = isBackward ? act.s : act.e;

      if (current === target && current !== next && next !== target){
        requiredBlocks.add(axisId);
        continue;
      }

      const firstTargetIndex = firstTargetStepIndexByAxis[axisKey];
      if (current !== next && next !== target && firstTargetIndex != null && firstTargetIndex > i){
        requiredBlocks.add(axisId);
        continue;
      }

      if (current !== target && next === target && blockedEarlier.has(axisId)){
        unblocks.add(axisId);
      }
    }

    if (requiredBlocks.size){
      requiredBlocks.forEach(id => blockedEarlier.add(id));
    }

    const blockCount = requiredBlocks.size;
    const blockText = blockCount
      ? (blockCount > maxBlocks ? `ZU VIELE Sperren n\u00F6tig: ${blockCount}` : `Sperren: ${blockCount}`)
      : '';
    const unblockText = unblocks.size ? `Entsperren: ${unblocks.size}` : '';

    // Update table rows + simulate positions
    for (const axisKey in actions){
      if (!Object.prototype.hasOwnProperty.call(actions, axisKey)) continue;

      const axisId = parseInt(axisKey, 10);
      if (!Number.isFinite(axisId)) continue;

      const act = actions[axisKey];
      const scriptStart = isBackward ? act.e : act.s;
      const scriptEnd = isBackward ? act.s : act.e;
      const scriptMoves = scriptStart !== scriptEnd;
      const next = scriptEnd;

      const start = Object.prototype.hasOwnProperty.call(positions, axisKey) ? positions[axisKey] : null;
      const target = Object.prototype.hasOwnProperty.call(targetPositions, axisKey) ? targetPositions[axisKey] : null;

      const isBlocked = requiredBlocks.has(axisId);
      const isUnblocked = unblocks.has(axisId);

      let unblockNotice = null;
      let statusKind = 'SonstigeBewegung';
      let statusText = 'F\u00FCr diesen Sprung ist keine vollst\u00E4ndige Positionsinformation vorhanden.';

      if (isBlocked){
        statusKind = 'BewegtWegVonZiel';
        if (target != null){
          statusText = `In diesem Vorschlag wird die Achse gesperrt. Cue w\u00FCrde sie sonst von ${scriptStart} nach ${scriptEnd} fahren (Sprung-Ziel ${target}).`;
        }else{
          statusText = `In diesem Vorschlag wird die Achse gesperrt. Cue w\u00FCrde sie sonst von ${scriptStart} nach ${scriptEnd} fahren.`;
        }
      }else if (start != null && target != null && next === target){
        if (start === target){
          statusKind = 'BleibtRichtig';
          statusText = `Achse bleibt in diesem Cue auf ${start}.`;
        }else{
          statusKind = 'BringtAufZiel';
          statusText = `Achse muss von ${start} nach ${target} fahren.`;
        }
        if (isUnblocked){
          unblockNotice = 'Vor diesem Cue entsperren. ';
        }
      }else if (start != null && target != null){
        if (start === target){
          if (start === next){
            statusKind = 'BleibtRichtig';
            statusText = `Achse bleibt in diesem Cue auf ${start}.`;
          }else{
            statusKind = 'BewegtWegVonZiel';
            statusText = `Cue w\u00FCrde die Achse von ${start} auf ${next} setzen, obwohl das Ziel ${target} ist (Sperren empfohlen).`;
          }
        }else{
          if (start === next){
            statusKind = 'KeineBewegung';
            statusText = `Achse bleibt in diesem Cue auf ${start} (Ziel ${target}).`;
          }else{
            statusKind = 'SonstigeBewegung';
            statusText = `Cue w\u00FCrde die Achse von ${start} auf ${next} setzen (Ziel ${target}).`;
          }
        }
      }else if (!scriptMoves){
        statusKind = 'KeineBewegung';
        statusText = (start != null)
          ? `In diesem Cue f\u00E4hrt die Achse nicht und bleibt auf ${start}.`
          : 'In diesem Cue f\u00E4hrt die Achse nicht.';
      }

      setRow(stepEl, axisId, start, target, unblockNotice, statusText, statusKind);

      if (!isBlocked && start != null && next != null && start !== next && target != null && next === target && start !== target){
        coveredNow.push(axisId);
      }

      if (!isBlocked && next != null){
        positions[axisKey] = next;
      }
    }

    const affectedText = coveredNow.length ? `Bringt auf Ziel: ${coveredNow.length}` : '';
    setBadge(stepEl, 'affected', affectedText);
    setBadge(stepEl, 'block', blockText);
    setBadge(stepEl, 'unblock', unblockText);
  }
}

function recomputeAllSections(){
  const data = getPhData();
  if (!data || !data.suggestions) return;
  const maxBlocks = data.maxBlocksPerCue || 3;
  document.querySelectorAll('section.section[data-sid]').forEach(section => {
    const sid = section.dataset.sid;
    const model = sid ? data.suggestions[sid] : null;
    if (!model) return;
    recomputeSection(section, model, maxBlocks);
  });
}

let _saveTimer = null;
function notifyOrderChanged(){
  recomputeAllSections();
  if (!FIREBASE_DB_BASE) return;
  if (_saveTimer) window.clearTimeout(_saveTimer);
  _saveTimer = window.setTimeout(async () => {
    _saveTimer = null;
    try{
      const rev = Date.now();
      const orders = collectOrdersFromDom();
      await firebasePatch(FIREBASE_SESSION_PATH, {
        rev,
        updatedAt: { '.sv': 'timestamp' },
        orders
      });
      _lastRemoteRev = rev;
    }catch(_e){
      // sync optional
    }
  }, 600);
}

async function refreshOrderFromFirebase(){
  try{
    const data = await firebaseGet(FIREBASE_SESSION_PATH);
    if (!data || !data.orders) return;
    if (data.rev != null) _lastRemoteRev = data.rev;
    applyOrdersToDom(data.orders);
    recomputeAllSections();
  }catch(_e){
    // sync optional
  }
}

function enableFirebaseSync(){
  const btn = document.getElementById('syncRefreshBtn');
  if (btn){
    btn.addEventListener('click', (e) => {
      e.preventDefault();
      e.stopPropagation();
      refreshOrderFromFirebase();
    });
  }
  // initial pull (keine Live-Aktualisierung)
  refreshOrderFromFirebase();
}

window.addEventListener('DOMContentLoaded', () => {
  enableCollapse();
  enableReorderButtons();
  enableHelp();
  enableFirebaseSync();
  // Standard: ausgeklappt
  setAllCollapsed(false);
  document.querySelectorAll('.steps').forEach((stepsEl) => enablePointerReorder(stepsEl));
  recomputeAllSections();
});

</script>
</head>
<body>
<div class="toolbar">
<div class="toolbarInner">
<div class="toolbarLeft">
<label class="toggle" title="Kompaktmodus (zum Sortieren)"><input id="compactToggle" type="checkbox"/><span class="toggleIcon">&#9776;</span></label>
</div>
<div class="toolbarRight">
<button class="btn iconBtn" id="syncRefreshBtn" type="button" title="Sortierung aktualisieren" aria-label="Sortierung aktualisieren">&#x21BB;</button>
<button class="btn iconBtn helpBtn" id="helpBtn" type="button" title="Hilfe" aria-label="Hilfe">?</button>
<button class="btn iconBtn" id="collapseAllBtn" type="button" title="Alles einklappen" aria-label="Alles einklappen">&#x25BE;</button>
<button class="btn iconBtn" id="expandAllBtn" type="button" title="Alles ausklappen" aria-label="Alles ausklappen">&#x25B4;</button>
</div>
</div>
</div>
<div class="helpOverlay" id="helpOverlay" role="dialog" aria-modal="true" aria-label="Hilfe">
<div class="helpModal">
<div class="helpHead">
<div class="helpTitle">Hilfe</div>
<button class="btn iconBtn helpCloseX" id="helpCloseBtn" type="button" title="Schließen" aria-label="Schließen">&#x2715;</button>
</div>
<div class="helpBody">
<p>Dieser Report zeigt die Cue-Sequenz so, wie sie in Probenhilfe angezeigt und sortiert wurde.</p>
<h3>Ansicht / Einklappen</h3>
<ul>
<li><span class="kbd">☰</span> Kompaktmodus: alle Cues sind eingeklappt (gut zum Sortieren).</li>
<li><span class="kbd">▾</span> Alles einklappen.</li>
<li><span class="kbd">▴</span> Alles ausklappen.</li>
<li>Tippe auf einen Cue-Kopf, um genau diesen Cue ein- oder auszuklappen.</li>
</ul>
<h3>Sortieren (mobil)</h3>
<ul>
<li>Zum Verschieben: am <span class="kbd">≡</span>-Griff ziehen (nicht irgendwo im Text).</li>
<li>Wenn es sehr weit gehen soll: im Kompaktmodus die <span class="kbd">↑</span>/<span class="kbd">↓</span>-Buttons nutzen.</li>
</ul>
<h3>Farben</h3>
<ul>
<li>Grün/Blau: bringt auf Ziel oder bleibt richtig.</li>
<li>Rot: würde weg vom Ziel bewegen / Sperren relevant.</li>
<li>Gelb im Status: vor diesem Cue entsperren.</li>
</ul>
<h3>Teilen</h3>
<ul>
<li>Die Seite ist online unter <span class="kbd">https://gummi-backe.github.io/probenhilfe-reports/</span>.</li>
</ul>
</div>
</div>
</div>
<div class="wrap">
<div class="header">
<div>
<div class="title">Probenhilfe - Cue-Sequenz</div>
<div class="subtitle">Sprung: AQ 8 - Window OPEN       LX 47.5 → AQ 29.7 - Coro 1 IN (AQ GO)</div>
</div>
<div class="meta">Export: 2026-01-19 12:45:23<br/><span class="muted">Quelle: Probenhilfe</span></div>
</div>
<div class="legend">
<div class="chip"><span class="dot bring"></span>Bringt auf Ziel</div>
<div class="chip"><span class="dot ok"></span>Keine Bewegung</div>
<div class="chip"><span class="dot warn"></span>Würde weg vom Ziel bewegen / Sperren</div>
<div class="chip"><span class="dot neutral"></span>Sonstiges</div>
<div class="chip"><span class="dot" style="background:var(--notice)"></span>Vor diesem Cue entsperren</div>
</div>
<section class="section" data-sid="CKAEA0wSOV2b">
<div class="sectionHead">
<div class="sectionTitle">Optimierter Vorschlag (wenig Positionsfahrten) f&#252;r den Sprung von AQ 8 - Window OPEN       LX 47.5 nach AQ 29.7 - Coro 1 IN (AQ GO)</div>
<div class="sectionSummary">Schritte: 11 (Cues: 11, Positionsfahrten: 0, Sperren: 0; max. 3 pro Step, max. 3 gesamt).</div>
</div>
<div class="steps">
<div class="step" data-step-id="c:f:p34:cue34" data-kind="cue" data-backward="0" data-disabled="0" data-cueid="34">
<div class="stepHead">
<div class="stepLeft">
<div class="dragHandle" title="Verschieben">≡</div>
<div class="stepIndex">1</div>
<div class="stepTitle">
<span class="dirBadge dirForward">Vorw&#228;rts 34</span>
<span class="cueText">CQ 27 - Coro 1+2 IN</span>
</div>
</div>
<div class="badges">
<div class="reorderBtns">
<button class="miniBtn" type="button" data-move="up" title="Nach oben">&#x2191;</button>
<button class="miniBtn" type="button" data-move="down" title="Nach unten">&#x2193;</button>
</div>
<span class="badge notice" data-badge="unblock" style="display:none"></span>
<span class="badge warn" data-badge="block" style="display:none"></span>
<span class="badge" data-badge="affected">Bringt auf Ziel: 2</span>
</div>
</div>
<div class="stepBody open">
<div class="tableWrap">
<table>
<thead><tr>
<th>Achse</th>
<th class="mono">Sprung-Start</th>
<th class="mono">Sprung-Ziel</th>
<th>Status</th>
</tr></thead>
<tbody>
<tr class="row bring" data-axisid="52">
<td>Coronation Hanger 1 <span class="muted">(Coro H 1)</span></td>
<td class="mono" data-role="start">12000</td>
<td class="mono" data-role="target">3350</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse muss von 12000 nach 3350 fahren.</span>
</td>
</tr>
<tr class="row bring" data-axisid="53">
<td>Coronation Hanger 2 <span class="muted">(Coro H 2)</span></td>
<td class="mono" data-role="start">11900</td>
<td class="mono" data-role="target">3350</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse muss von 11900 nach 3350 fahren.</span>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="step" data-step-id="c:f:p104:cue104" data-kind="cue" data-backward="0" data-disabled="0" data-cueid="104">
<div class="stepHead">
<div class="stepLeft">
<div class="dragHandle" title="Verschieben">≡</div>
<div class="stepIndex">2</div>
<div class="stepTitle">
<span class="dirBadge dirForward">Vorw&#228;rts 104</span>
<span class="cueText">AQ 28 - Track 1 ON (FL)</span>
</div>
</div>
<div class="badges">
<div class="reorderBtns">
<button class="miniBtn" type="button" data-move="up" title="Nach oben">&#x2191;</button>
<button class="miniBtn" type="button" data-move="down" title="Nach unten">&#x2193;</button>
</div>
<span class="badge notice" data-badge="unblock" style="display:none"></span>
<span class="badge warn" data-badge="block" style="display:none"></span>
<span class="badge" data-badge="affected">Bringt auf Ziel: 1</span>
</div>
</div>
<div class="stepBody open">
<div class="tableWrap">
<table>
<thead><tr>
<th>Achse</th>
<th class="mono">Sprung-Start</th>
<th class="mono">Sprung-Ziel</th>
<th>Status</th>
</tr></thead>
<tbody>
<tr class="row bring" data-axisid="55">
<td>Track 1 <span class="muted">(Track1)</span></td>
<td class="mono" data-role="start">5080</td>
<td class="mono" data-role="target">9988</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse muss von 5080 nach 9988 fahren.</span>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="step" data-step-id="c:f:p83:cue83" data-kind="cue" data-backward="0" data-disabled="0" data-cueid="83">
<div class="stepHead">
<div class="stepLeft">
<div class="dragHandle" title="Verschieben">≡</div>
<div class="stepIndex">3</div>
<div class="stepTitle">
<span class="dirBadge dirForward">Vorw&#228;rts 83</span>
<span class="cueText">AQ 11 - AP2 IN/IWall3/LXL6 (SM)</span>
</div>
</div>
<div class="badges">
<div class="reorderBtns">
<button class="miniBtn" type="button" data-move="up" title="Nach oben">&#x2191;</button>
<button class="miniBtn" type="button" data-move="down" title="Nach unten">&#x2193;</button>
</div>
<span class="badge notice" data-badge="unblock" style="display:none"></span>
<span class="badge warn" data-badge="block" style="display:none"></span>
<span class="badge" data-badge="affected">Bringt auf Ziel: 4</span>
</div>
</div>
<div class="stepBody open">
<div class="tableWrap">
<table>
<thead><tr>
<th>Achse</th>
<th class="mono">Sprung-Start</th>
<th class="mono">Sprung-Ziel</th>
<th>Status</th>
</tr></thead>
<tbody>
<tr class="row bring" data-axisid="10">
<td>[APort2]  Arendelle Portal <span class="muted">(APor 2)</span></td>
<td class="mono" data-role="start">7990</td>
<td class="mono" data-role="target">0</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse muss von 7990 nach 0 fahren.</span>
</td>
</tr>
<tr class="row bring" data-axisid="15">
<td>[APort2]  Arendelle Portal <span class="muted">(APor 3)</span></td>
<td class="mono" data-role="start">7990</td>
<td class="mono" data-role="target">0</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse muss von 7990 nach 0 fahren.</span>
</td>
</tr>
<tr class="row bring" data-axisid="23">
<td>Ice Wall 3 <span class="muted">(IWall3)</span></td>
<td class="mono" data-role="start">6773</td>
<td class="mono" data-role="target">11000</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse muss von 6773 nach 11000 fahren.</span>
</td>
</tr>
<tr class="row bring" data-axisid="49">
<td>Lichtleiter 6 SR <span class="muted">(LL6SR)</span></td>
<td class="mono" data-role="start">5665</td>
<td class="mono" data-role="target">5125</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse muss von 5665 nach 5125 fahren.</span>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="step" data-step-id="c:f:p5:cue5" data-kind="cue" data-backward="0" data-disabled="0" data-cueid="5">
<div class="stepHead">
<div class="stepLeft">
<div class="dragHandle" title="Verschieben">≡</div>
<div class="stepIndex">4</div>
<div class="stepTitle">
<span class="dirBadge dirForward">Vorw&#228;rts 5</span>
<span class="cueText">CQ 34 - Alle Tracks SR  PRESET</span>
</div>
</div>
<div class="badges">
<div class="reorderBtns">
<button class="miniBtn" type="button" data-move="up" title="Nach oben">&#x2191;</button>
<button class="miniBtn" type="button" data-move="down" title="Nach unten">&#x2193;</button>
</div>
<span class="badge notice" data-badge="unblock" style="display:none"></span>
<span class="badge warn" data-badge="block" style="display:none"></span>
<span class="badge" data-badge="affected">Bringt auf Ziel: 1</span>
</div>
</div>
<div class="stepBody open">
<div class="tableWrap">
<table>
<thead><tr>
<th>Achse</th>
<th class="mono">Sprung-Start</th>
<th class="mono">Sprung-Ziel</th>
<th>Status</th>
</tr></thead>
<tbody>
<tr class="row bring" data-axisid="57">
<td>Track 2 <span class="muted">(Track2)</span></td>
<td class="mono" data-role="start">-5080</td>
<td class="mono" data-role="target">-12200</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse muss von -5080 nach -12200 fahren.</span>
</td>
</tr>
<tr class="row ok" data-axisid="58">
<td>Track 4 <span class="muted">(Track4)</span></td>
<td class="mono" data-role="start">-10570</td>
<td class="mono" data-role="target">-10445</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse bleibt in diesem Cue auf -10570 (Ziel -10445).</span>
</td>
</tr>
<tr class="row ok" data-axisid="61">
<td>Track 6 <span class="muted">(Track6)</span></td>
<td class="mono" data-role="start">-12483</td>
<td class="mono" data-role="target">-12483</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse bleibt in diesem Cue auf -12483.</span>
</td>
</tr>
<tr class="row ok" data-axisid="62">
<td>Track 8 <span class="muted">(Track8)</span></td>
<td class="mono" data-role="start">-10445</td>
<td class="mono" data-role="target">-10445</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse bleibt in diesem Cue auf -10445.</span>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="step" data-step-id="c:b:p122:cue122" data-kind="cue" data-backward="1" data-disabled="0" data-cueid="122">
<div class="stepHead">
<div class="stepLeft">
<div class="dragHandle" title="Verschieben">≡</div>
<div class="stepIndex">5</div>
<div class="stepTitle">
<span class="dirBadge dirBackward">R&#252;ckw&#228;rts 122</span>
<span class="cueText">AQ 36 - Tracks ON Torchieres</span>
</div>
</div>
<div class="badges">
<div class="reorderBtns">
<button class="miniBtn" type="button" data-move="up" title="Nach oben">&#x2191;</button>
<button class="miniBtn" type="button" data-move="down" title="Nach unten">&#x2193;</button>
</div>
<span class="badge notice" data-badge="unblock" style="display:none"></span>
<span class="badge warn" data-badge="block" style="display:none"></span>
<span class="badge" data-badge="affected">Bringt auf Ziel: 3</span>
</div>
</div>
<div class="stepBody open">
<div class="tableWrap">
<table>
<thead><tr>
<th>Achse</th>
<th class="mono">Sprung-Start</th>
<th class="mono">Sprung-Ziel</th>
<th>Status</th>
</tr></thead>
<tbody>
<tr class="row bring" data-axisid="54">
<td>Chandelier <span class="muted">(Chande)</span></td>
<td class="mono" data-role="start">11600</td>
<td class="mono" data-role="target">7804</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse muss von 11600 nach 7804 fahren.</span>
</td>
</tr>
<tr class="row bring" data-axisid="56">
<td>Track 3 <span class="muted">(Track3)</span></td>
<td class="mono" data-role="start">9800</td>
<td class="mono" data-role="target">10445</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse muss von 9800 nach 10445 fahren.</span>
</td>
</tr>
<tr class="row bring" data-axisid="58">
<td>Track 4 <span class="muted">(Track4)</span></td>
<td class="mono" data-role="start">-10570</td>
<td class="mono" data-role="target">-10445</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse muss von -10570 nach -10445 fahren.</span>
</td>
</tr>
<tr class="row ok" data-axisid="60">
<td>Track 7 <span class="muted">(Track7)</span></td>
<td class="mono" data-role="start">10445</td>
<td class="mono" data-role="target">10445</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse bleibt in diesem Cue auf 10445.</span>
</td>
</tr>
<tr class="row ok" data-axisid="62">
<td>Track 8 <span class="muted">(Track8)</span></td>
<td class="mono" data-role="start">-10445</td>
<td class="mono" data-role="target">-10445</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse bleibt in diesem Cue auf -10445.</span>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="step" data-step-id="c:f:p91:cue91" data-kind="cue" data-backward="0" data-disabled="0" data-cueid="91">
<div class="stepHead">
<div class="stepLeft">
<div class="dragHandle" title="Verschieben">≡</div>
<div class="stepIndex">6</div>
<div class="stepTitle">
<span class="dirBadge dirForward">Vorw&#228;rts 91</span>
<span class="cueText">AQ 17 - Gates IN (SM)</span>
</div>
</div>
<div class="badges">
<div class="reorderBtns">
<button class="miniBtn" type="button" data-move="up" title="Nach oben">&#x2191;</button>
<button class="miniBtn" type="button" data-move="down" title="Nach unten">&#x2193;</button>
</div>
<span class="badge notice" data-badge="unblock" style="display:none"></span>
<span class="badge warn" data-badge="block" style="display:none"></span>
<span class="badge" data-badge="affected">Bringt auf Ziel: 1</span>
</div>
</div>
<div class="stepBody open">
<div class="tableWrap">
<table>
<thead><tr>
<th>Achse</th>
<th class="mono">Sprung-Start</th>
<th class="mono">Sprung-Ziel</th>
<th>Status</th>
</tr></thead>
<tbody>
<tr class="row bring" data-axisid="16">
<td>Gates/USWall <span class="muted">(USWall)</span></td>
<td class="mono" data-role="start">8700</td>
<td class="mono" data-role="target">0</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse muss von 8700 nach 0 fahren.</span>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="step" data-step-id="c:b:p56:cue56" data-kind="cue" data-backward="1" data-disabled="0" data-cueid="56">
<div class="stepHead">
<div class="stepLeft">
<div class="dragHandle" title="Verschieben">≡</div>
<div class="stepIndex">7</div>
<div class="stepTitle">
<span class="dirBadge dirBackward">R&#252;ckw&#228;rts 56</span>
<span class="cueText">Preset 7 - WindowWall Preset</span>
</div>
</div>
<div class="badges">
<div class="reorderBtns">
<button class="miniBtn" type="button" data-move="up" title="Nach oben">&#x2191;</button>
<button class="miniBtn" type="button" data-move="down" title="Nach unten">&#x2193;</button>
</div>
<span class="badge notice" data-badge="unblock" style="display:none"></span>
<span class="badge warn" data-badge="block" style="display:none"></span>
<span class="badge" data-badge="affected">Bringt auf Ziel: 3</span>
</div>
</div>
<div class="stepBody open">
<div class="tableWrap">
<table>
<thead><tr>
<th>Achse</th>
<th class="mono">Sprung-Start</th>
<th class="mono">Sprung-Ziel</th>
<th>Status</th>
</tr></thead>
<tbody>
<tr class="row bring" data-axisid="36">
<td>[AWall]  Arendelle Wall / <span class="muted">(AWinDS)</span></td>
<td class="mono" data-role="start">0</td>
<td class="mono" data-role="target">9440</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse muss von 0 nach 9440 fahren.</span>
</td>
</tr>
<tr class="row bring" data-axisid="17">
<td>[AWall]  Arendelle Wall / <span class="muted">(AWinUS)</span></td>
<td class="mono" data-role="start">0</td>
<td class="mono" data-role="target">9440</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse muss von 0 nach 9440 fahren.</span>
</td>
</tr>
<tr class="row bring" data-axisid="94">
<td>Shutter 2 Center <span class="muted">(ShutC)</span></td>
<td class="mono" data-role="start">1245</td>
<td class="mono" data-role="target">0</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse muss von 1245 nach 0 fahren.</span>
</td>
</tr>
<tr class="row ok" data-axisid="93">
<td>Shutter 1 SL <span class="muted">(ShutSL)</span></td>
<td class="mono" data-role="start">1165</td>
<td class="mono" data-role="target">0</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse bleibt in diesem Cue auf 1165 (Ziel 0).</span>
</td>
</tr>
<tr class="row ok" data-axisid="95">
<td>Shutter 3 SR <span class="muted">(ShutSR)</span></td>
<td class="mono" data-role="start">1165</td>
<td class="mono" data-role="target">0</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse bleibt in diesem Cue auf 1165 (Ziel 0).</span>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="step" data-step-id="c:f:p81:cue81" data-kind="cue" data-backward="0" data-disabled="0" data-cueid="81">
<div class="stepHead">
<div class="stepLeft">
<div class="dragHandle" title="Verschieben">≡</div>
<div class="stepIndex">8</div>
<div class="stepTitle">
<span class="dirBadge dirForward">Vorw&#228;rts 81</span>
<span class="cueText">AQ 9 - Window CLOSE        LX 60</span>
</div>
</div>
<div class="badges">
<div class="reorderBtns">
<button class="miniBtn" type="button" data-move="up" title="Nach oben">&#x2191;</button>
<button class="miniBtn" type="button" data-move="down" title="Nach unten">&#x2193;</button>
</div>
<span class="badge notice" data-badge="unblock" style="display:none"></span>
<span class="badge warn" data-badge="block" style="display:none"></span>
<span class="badge" data-badge="affected">Bringt auf Ziel: 2</span>
</div>
</div>
<div class="stepBody open">
<div class="tableWrap">
<table>
<thead><tr>
<th>Achse</th>
<th class="mono">Sprung-Start</th>
<th class="mono">Sprung-Ziel</th>
<th>Status</th>
</tr></thead>
<tbody>
<tr class="row bring" data-axisid="92">
<td>Window SL <span class="muted">(WinSL)</span></td>
<td class="mono" data-role="start">900</td>
<td class="mono" data-role="target">0</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse muss von 900 nach 0 fahren.</span>
</td>
</tr>
<tr class="row bring" data-axisid="91">
<td>Window SR <span class="muted">(WinSR)</span></td>
<td class="mono" data-role="start">900</td>
<td class="mono" data-role="target">0</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse muss von 900 nach 0 fahren.</span>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="step" data-step-id="c:f:p82:cue82" data-kind="cue" data-backward="0" data-disabled="0" data-cueid="82">
<div class="stepHead">
<div class="stepLeft">
<div class="dragHandle" title="Verschieben">≡</div>
<div class="stepIndex">9</div>
<div class="stepTitle">
<span class="dirBadge dirForward">Vorw&#228;rts 82</span>
<span class="cueText">AQ 10 - Window Shutter CLOSE</span>
</div>
</div>
<div class="badges">
<div class="reorderBtns">
<button class="miniBtn" type="button" data-move="up" title="Nach oben">&#x2191;</button>
<button class="miniBtn" type="button" data-move="down" title="Nach unten">&#x2193;</button>
</div>
<span class="badge notice" data-badge="unblock" style="display:none"></span>
<span class="badge warn" data-badge="block" style="display:none"></span>
<span class="badge" data-badge="affected">Bringt auf Ziel: 2</span>
</div>
</div>
<div class="stepBody open">
<div class="tableWrap">
<table>
<thead><tr>
<th>Achse</th>
<th class="mono">Sprung-Start</th>
<th class="mono">Sprung-Ziel</th>
<th>Status</th>
</tr></thead>
<tbody>
<tr class="row bring" data-axisid="93">
<td>Shutter 1 SL <span class="muted">(ShutSL)</span></td>
<td class="mono" data-role="start">1165</td>
<td class="mono" data-role="target">0</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse muss von 1165 nach 0 fahren.</span>
</td>
</tr>
<tr class="row bring" data-axisid="95">
<td>Shutter 3 SR <span class="muted">(ShutSR)</span></td>
<td class="mono" data-role="start">1165</td>
<td class="mono" data-role="target">0</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse muss von 1165 nach 0 fahren.</span>
</td>
</tr>
<tr class="row ok" data-axisid="94">
<td>Shutter 2 Center <span class="muted">(ShutC)</span></td>
<td class="mono" data-role="start">0</td>
<td class="mono" data-role="target">0</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse bleibt in diesem Cue auf 0.</span>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="step" data-step-id="c:f:p319:cue319" data-kind="cue" data-backward="0" data-disabled="0" data-cueid="319">
<div class="stepHead">
<div class="stepLeft">
<div class="dragHandle" title="Verschieben">≡</div>
<div class="stepIndex">10</div>
<div class="stepTitle">
<span class="dirBadge dirForward">Vorw&#228;rts 319</span>
<span class="cueText">Preset 1.6 - Castle Chapel</span>
</div>
</div>
<div class="badges">
<div class="reorderBtns">
<button class="miniBtn" type="button" data-move="up" title="Nach oben">&#x2191;</button>
<button class="miniBtn" type="button" data-move="down" title="Nach unten">&#x2193;</button>
</div>
<span class="badge notice" data-badge="unblock" style="display:none"></span>
<span class="badge warn" data-badge="block" style="display:none"></span>
<span class="badge" data-badge="affected">Bringt auf Ziel: 10</span>
</div>
</div>
<div class="stepBody open">
<div class="tableWrap">
<table>
<thead><tr>
<th>Achse</th>
<th class="mono">Sprung-Start</th>
<th class="mono">Sprung-Ziel</th>
<th>Status</th>
</tr></thead>
<tbody>
<tr class="row bring" data-axisid="38">
<td>Lichtleiter 1 SL <span class="muted">(LL1SL)</span></td>
<td class="mono" data-role="start">5585</td>
<td class="mono" data-role="target">1165</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse muss von 5585 nach 1165 fahren.</span>
</td>
</tr>
<tr class="row bring" data-axisid="39">
<td>Lichtleiter 1 SR <span class="muted">(LL1SR)</span></td>
<td class="mono" data-role="start">5585</td>
<td class="mono" data-role="target">1165</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse muss von 5585 nach 1165 fahren.</span>
</td>
</tr>
<tr class="row bring" data-axisid="40">
<td>Lichtleiter 2 SL <span class="muted">(LL2SL)</span></td>
<td class="mono" data-role="start">5720</td>
<td class="mono" data-role="target">3620</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse muss von 5720 nach 3620 fahren.</span>
</td>
</tr>
<tr class="row bring" data-axisid="41">
<td>Lichtleiter 2 SR <span class="muted">(LL2SR)</span></td>
<td class="mono" data-role="start">5720</td>
<td class="mono" data-role="target">3620</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse muss von 5720 nach 3620 fahren.</span>
</td>
</tr>
<tr class="row bring" data-axisid="42">
<td>Lichtleiter 3 SL <span class="muted">(LL3SL)</span></td>
<td class="mono" data-role="start">2785</td>
<td class="mono" data-role="target">1165</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse muss von 2785 nach 1165 fahren.</span>
</td>
</tr>
<tr class="row bring" data-axisid="43">
<td>Lichtleiter 3 SR <span class="muted">(LL3SR)</span></td>
<td class="mono" data-role="start">2785</td>
<td class="mono" data-role="target">1165</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse muss von 2785 nach 1165 fahren.</span>
</td>
</tr>
<tr class="row bring" data-axisid="46">
<td>Lichtleiter 5 SL <span class="muted">(LL5SL)</span></td>
<td class="mono" data-role="start">1165</td>
<td class="mono" data-role="target">3485</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse muss von 1165 nach 3485 fahren.</span>
</td>
</tr>
<tr class="row bring" data-axisid="47">
<td>Lichtleiter 5 SR <span class="muted">(LL5SR)</span></td>
<td class="mono" data-role="start">1165</td>
<td class="mono" data-role="target">3485</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse muss von 1165 nach 3485 fahren.</span>
</td>
</tr>
<tr class="row bring" data-axisid="37">
<td>LX 3 <span class="muted">(LX 3)</span></td>
<td class="mono" data-role="start">7405</td>
<td class="mono" data-role="target">10615</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse muss von 7405 nach 10615 fahren.</span>
</td>
</tr>
<tr class="row bring" data-axisid="34">
<td>LX 5 <span class="muted">(LX 5)</span></td>
<td class="mono" data-role="start">7361</td>
<td class="mono" data-role="target">7165</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse muss von 7361 nach 7165 fahren.</span>
</td>
</tr>
<tr class="row ok" data-axisid="44">
<td>Lichtleiter 4 SL <span class="muted">(LL4SL)</span></td>
<td class="mono" data-role="start">2920</td>
<td class="mono" data-role="target">2920</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse bleibt in diesem Cue auf 2920.</span>
</td>
</tr>
<tr class="row ok" data-axisid="45">
<td>Lichtleiter 4 SR <span class="muted">(LL4SR)</span></td>
<td class="mono" data-role="start">2920</td>
<td class="mono" data-role="target">2920</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse bleibt in diesem Cue auf 2920.</span>
</td>
</tr>
<tr class="row ok" data-axisid="48">
<td>Lichtleiter 6 SL <span class="muted">(LL6SL)</span></td>
<td class="mono" data-role="start">5125</td>
<td class="mono" data-role="target">5125</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse bleibt in diesem Cue auf 5125.</span>
</td>
</tr>
<tr class="row ok" data-axisid="49">
<td>Lichtleiter 6 SR <span class="muted">(LL6SR)</span></td>
<td class="mono" data-role="start">5125</td>
<td class="mono" data-role="target">5125</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse bleibt in diesem Cue auf 5125.</span>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="step" data-step-id="c:f:p103:cue103" data-kind="cue" data-backward="0" data-disabled="0" data-cueid="103">
<div class="stepHead">
<div class="stepLeft">
<div class="dragHandle" title="Verschieben">≡</div>
<div class="stepIndex">11</div>
<div class="stepTitle">
<span class="dirBadge dirForward">Vorw&#228;rts 103</span>
<span class="cueText">AQ 27 - Transition to Great Hall</span>
</div>
</div>
<div class="badges">
<div class="reorderBtns">
<button class="miniBtn" type="button" data-move="up" title="Nach oben">&#x2191;</button>
<button class="miniBtn" type="button" data-move="down" title="Nach unten">&#x2193;</button>
</div>
<span class="badge notice" data-badge="unblock" style="display:none"></span>
<span class="badge warn" data-badge="block" style="display:none"></span>
<span class="badge" data-badge="affected">Bringt auf Ziel: 1</span>
</div>
</div>
<div class="stepBody open">
<div class="tableWrap">
<table>
<thead><tr>
<th>Achse</th>
<th class="mono">Sprung-Start</th>
<th class="mono">Sprung-Ziel</th>
<th>Status</th>
</tr></thead>
<tbody>
<tr class="row bring" data-axisid="64">
<td>Arendel Portal 2 Travelle <span class="muted">(AP2 Tr)</span></td>
<td class="mono" data-role="start">1300</td>
<td class="mono" data-role="target">4035</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse muss von 1300 nach 4035 fahren.</span>
</td>
</tr>
<tr class="row ok" data-axisid="63">
<td>Arendel Portal 1 Travelle <span class="muted">(AP1 Tr)</span></td>
<td class="mono" data-role="start">4400</td>
<td class="mono" data-role="target">4400</td>
<td>
<span class="noticeText" data-role="unblockNotice" style="display:none"></span>
<span class="status" data-role="statusText">Achse bleibt in diesem Cue auf 4400.</span>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</section>
</div>
</body>
</html>
